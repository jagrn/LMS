@model LMS.ViewModels.StudentViewModel

@{
    ViewBag.Title = "Manage";
}


<br />

@{
    var courseId = Model.CourseId;
    var moduleId = Model.ModuleId;
    var activityId = Model.ActivityId;
    var studentId = Model.StudentId;
}


@{
    
        <h4 class="page-header"><span class="glyphicon glyphicon-tasks" aria-hidden="true"></span>&nbsp;Nya notifieringar (@Model.NoOfNotifications)</h4>

        if (Model.Notifications != null)
        {
            foreach (var notification in Model.Notifications)
            {
                <div class="col-md-12 col-sm-12" style="background-color:whitesmoke; border:1px solid lightgrey; margin: 5px; padding-top: 5px;">
                    <p>
                        @notification.ChangeText &nbsp; <a href="@Url.Action("MyPage", "Students", new { courseId = courseId, moduleId = moduleId, activityId = activityId })">Läst</a>
                    </p>

                </div>
            }

        }

}



<h1>Välkommen till din sida @Model.StudentName</h1>

@Html.Action("Scheme", "Students", new { courseId = courseId, year = Model.SchemeYear, week = Model.SchemeWeek, moveWeek = Model.SchemeMoveWeek, myPageModuleId = Model.ModuleId, myPageActivityId = Model.ActivityId, myPageStudentId = Model.StudentId })


<br />
<br />

@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()

    //First container to include input section and module information
    <div class="container-fluid">

        <div class="row">
            <div class="col-md-3">
                <!--menu-->
                <br />
                <h4>Kursmoduler för @Model.CourseName:</h4>

                @{
                    if (Model.CourseModules != null)
                    {
                        if (Model.CourseModules.Count != 0)
                        {
                            <table class="table">
                                @foreach (var module in Model.CourseModules)
                                {
                                <tr>
                                    <td>
                                        @{
                                            string moduleText = "";
                                            if (module.Id == moduleId)
                                            {
                                                moduleText = "=> " + @module.Name;
                                            }
                                            else
                                            {
                                                moduleText = "   " + @module.Name;
                                            }
                                        }
                                        @Html.ActionLink(moduleText, "MyPage", new { courseId = courseId, moduleId = module.Id, activityId = 0, studentId = studentId})
                                    </td>

                                </tr>
                                            }
                            </table>
                                                }
                                            }
                }
            </div><!--end menu-->
           
            <div class="form-horizontal col-md-7">
                <h2>Information om din kurs @Model.CourseName</h2>
                @{
                    if ((moduleId != 0) && (activityId == 0))
                    {
                        
                        <h4>Modulinformation för @Model.Module.Name</h4>
                        <p>Start: @Model.Module.StartDate</p>
                        <p>Slut: @Model.Module.EndDate</p>
                        <p>Beskrivning: @Model.Module.Description</p>
                    }
                    else
                    {
                        if (activityId != 0)
                        {
                            <h4>Aktivitetsinformation för @Model.Activity.Name</h4>
                            <p>Start: @Model.Activity.StartDate</p>
                            <p>Slut: @Model.Activity.EndDate</p>
                            <p>Typ: @Model.Activity.ActivityType</p>
                            <p>Beskrivning: @Model.Activity.Description</p>
                        }
                    }

                }

                @{
                    if (moduleId != 0)
                    {

                        <h4 class="page-header"><span class="glyphicon glyphicon-tasks" aria-hidden="true"></span>&nbsp;Aktiviteter</h4>

                        if (moduleId != 0 && Model.ModuleActivities != null)
                        {
                            foreach (var activity in Model.ModuleActivities)
                            {
                                <div class="col-md-12 col-sm-12" style="background-color:whitesmoke; border:1px solid lightgrey; margin: 5px; padding-top: 5px;">
                                    <p>
                                        @activity.StartDate &nbsp; <a href="@Url.Action("MyPage", "Students", new { courseId = courseId, moduleId = moduleId, activityId = activity.Id, studentId = studentId })">@activity.Name</a>
                                    </p>
                                    <p>@activity.Description</p>

                                </div>
                            }

                        }

                    }

                }



            </div>

            @*<div class="col-md-2">
                <br />
                <br />
                <br />
              @Html.Partial("_Documents")
            </div>*@


        </div>
    </div>

}
        @section Scripts {
            @Scripts.Render("~/bundles/jqueryval")
        }

